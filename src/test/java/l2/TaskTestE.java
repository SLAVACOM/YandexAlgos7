package l2;

import com.slavacom.l2.TaskE;
import org.junit.jupiter.api.Test;

import java.io.*;

import static org.junit.jupiter.api.Assertions.assertEquals;

public class TaskTestE {
    private String runWithInput(String input) throws IOException {
        // Подмена System.in и System.out
        InputStream originalIn = System.in;
        PrintStream originalOut = System.out;

        ByteArrayInputStream in = new ByteArrayInputStream(input.getBytes());
        ByteArrayOutputStream out = new ByteArrayOutputStream();
        System.setIn(in);
        System.setOut(new PrintStream(out));

//         Запускаем main
        TaskE.main(new String[]{});

        // Возвращаем стандартные потоки
        System.setIn(originalIn);
        System.setOut(originalOut);

        return out.toString().trim();
    }

    @Test
    public void test1() throws IOException {
        String input = "500\n" +
                "0 0 9 0 0 9 0 0 9 9 9 9 9 9 0 0 0 10 9 10 9 0 0 10 9 10 10 0 9 10 0 10 9 0 10 0 0 9 0 0 9 10 10 0 10 0 0 9 9 9 10 9 0 9 0 0 10 0 0 0 0 10 0 9 10 0 0 9 0 0 0 10 0 0 9 0 0 0 9 0 9 0 10 10 0 0 0 10 9 0 9 10 0 0 0 9 0 0 0 10 10 0 9 0 0 0 10 9 0 9 0 0 9 0 0 0 10 0 0 0 0 0 0 9 9 9 10 9 10 0 10 9 0 0 10 0 10 0 0 0 0 9 9 0 9 0 9 0 0 0 0 0 0 9 9 10 10 10 9 10 0 0 10 9 0 0 9 0 10 10 10 0 0 10 0 0 9 0 0 0 9 10 0 10 10 10 0 10 9 9 0 0 9 0 9 9 10 9 0 9 0 0 0 9 10 10 10 10 10 9 0 10 9 0 0 0 0 0 10 0 10 0 0 0 10 0 0 9 0 0 9 0 0 0 9 10 10 0 0 0 9 9 9 10 9 0 0 0 10 10 0 0 9 0 10 10 9 0 0 0 0 9 0 10 9 0 0 10 0 10 9 10 0 0 0 9 10 9 0 10 0 9 9 0 0 0 0 0 0 10 0 0 0 9 10 10 0 10 0 0 0 0 10 0 9 10 9 10 0 0 0 0 10 10 0 0 10 10 10 0 0 0 0 10 9 0 0 0 9 10 9 10 10 0 0 10 0 0 10 0 9 9 9 9 9 0 0 0 0 0 0 10 10 0 0 9 9 0 0 9 9 9 0 0 0 0 10 0 0 0 0 0 9 0 0 9 0 0 0 0 0 10 9 0 9 10 10 0 0 0 0 0 10 0 0 0 9 9 0 0 9 10 0 0 0 9 10 10 9 0 9 10 9 9 0 0 10 0 0 0 9 10 10 0 10 0 0 10 9 9 0 10 10 0 0 9 10 10 10 0 0 10 9 0 0 0 9 0 9 9 0 0 0 0 10 0 10 0 0 10 10 9 0 10 10 9 0 9 0 10 10 0 0 10 10 0 0 10 0 10 9 9 0 10 9 9 0 10 9 0 10 10 10 10 0 9 10 9 0 9\n" +
                "500\n" +
                "s 129 157 128\n" +
                "u 108 0\n" +
                "u 5 0\n" +
                "s 93 154 55\n" +
                "s 43 396 354\n" +
                "u 55 0\n" +
                "s 338 430 87\n" +
                "u 82 9\n" +
                "u 348 0\n" +
                "u 328 0\n" +
                "u 201 0\n" +
                "u 429 0\n" +
                "u 37 9\n" +
                "s 100 188 24\n" +
                "u 4 10\n" +
                "u 6 9\n" +
                "u 48 9\n" +
                "s 188 218 11\n" +
                "s 165 348 261\n" +
                "s 99 433 31\n" +
                "u 397 0\n" +
                "u 447 10\n" +
                "s 436 499 39\n" +
                "u 44 0\n" +
                "s 120 136 7\n" +
                "s 251 377 108\n" +
                "s 27 48 373\n" +
                "s 1 379 94\n" +
                "u 381 0\n" +
                "s 11 192 85\n" +
                "s 236 411 62\n" +
                "u 213 9\n" +
                "s 402 431 363\n" +
                "u 209 0\n" +
                "s 419 426 139\n" +
                "s 69 406 267\n" +
                "u 131 9\n" +
                "u 10 0\n" +
                "s 145 168 5\n" +
                "s 378 425 12\n" +
                "u 467 0\n" +
                "s 180 318 72\n" +
                "s 337 436 17\n" +
                "s 97 420 97\n" +
                "s 64 221 120\n" +
                "u 38 0\n" +
                "u 406 10\n" +
                "u 371 0\n" +
                "s 300 440 42\n" +
                "s 148 352 154\n" +
                "s 238 424 415\n" +
                "u 273 0\n" +
                "s 28 194 104\n" +
                "u 4 9\n" +
                "s 22 408 321\n" +
                "s 213 419 256\n" +
                "s 273 306 4\n" +
                "u 332 10\n" +
                "u 397 0\n" +
                "u 458 10\n" +
                "u 32 0\n" +
                "u 71 0\n" +
                "u 132 10\n" +
                "u 471 0\n" +
                "s 143 411 194\n" +
                "u 276 10\n" +
                "u 377 10\n" +
                "s 12 493 85\n" +
                "s 127 202 155\n" +
                "s 105 479 22\n" +
                "u 392 0\n" +
                "s 221 336 85\n" +
                "s 296 452 93\n" +
                "s 7 82 7\n" +
                "u 96 0\n" +
                "s 131 329 333\n" +
                "u 106 10\n" +
                "u 384 0\n" +
                "s 404 476 69\n" +
                "u 283 10\n" +
                "s 9 158 94\n" +
                "u 378 10\n" +
                "s 148 435 14\n" +
                "u 51 0\n" +
                "u 257 0\n" +
                "s 75 183 16\n" +
                "u 247 9\n" +
                "u 474 0\n" +
                "s 42 82 15\n" +
                "s 112 478 152\n" +
                "s 187 395 180\n" +
                "s 54 217 68\n" +
                "s 408 427 3\n" +
                "u 304 0\n" +
                "u 282 10\n" +
                "u 476 9\n" +
                "s 341 483 225\n" +
                "u 209 0\n" +
                "s 294 490 190\n" +
                "s 75 102 385\n" +
                "s 281 464 44\n" +
                "u 490 10\n" +
                "u 149 9\n" +
                "s 221 385 183\n" +
                "u 499 9\n" +
                "s 392 455 53\n" +
                "s 416 424 4\n" +
                "s 23 404 66\n" +
                "s 51 459 207\n" +
                "s 127 262 118\n" +
                "u 283 0\n" +
                "s 181 441 83\n" +
                "s 1 70 13\n" +
                "u 90 10\n" +
                "s 70 141 185\n" +
                "u 111 9\n" +
                "u 108 9\n" +
                "u 291 9\n" +
                "u 75 0\n" +
                "s 35 251 3\n" +
                "s 54 102 28\n" +
                "s 353 439 46\n" +
                "u 134 9\n" +
                "s 281 394 48\n" +
                "s 352 384 222\n" +
                "s 105 262 133\n" +
                "s 150 165 465\n" +
                "u 131 0\n" +
                "s 8 235 138\n" +
                "u 266 0\n" +
                "s 115 167 386\n" +
                "u 431 10\n" +
                "u 38 0\n" +
                "s 64 177 15\n" +
                "s 340 368 27\n" +
                "u 415 9\n" +
                "u 199 9\n" +
                "u 20 10\n" +
                "u 104 9\n" +
                "u 222 0\n" +
                "s 59 383 349\n" +
                "u 373 0\n" +
                "s 32 113 65\n" +
                "u 101 10\n" +
                "s 40 452 8\n" +
                "u 158 0\n" +
                "s 334 499 420\n" +
                "s 19 334 358\n" +
                "s 67 159 23\n" +
                "s 56 184 271\n" +
                "s 159 261 12\n" +
                "u 356 10\n" +
                "s 233 409 233\n" +
                "u 134 0\n" +
                "s 138 389 74\n" +
                "s 97 166 420\n" +
                "u 422 0\n" +
                "u 278 9\n" +
                "s 115 158 43\n" +
                "u 273 9\n" +
                "s 432 482 27\n" +
                "s 368 445 74\n" +
                "u 420 0\n" +
                "u 411 10\n" +
                "s 366 488 343\n" +
                "s 49 66 18\n" +
                "s 220 272 348\n" +
                "s 23 425 19\n" +
                "s 160 329 350\n" +
                "s 324 454 108\n" +
                "u 157 10\n" +
                "s 75 434 304\n" +
                "s 128 307 244\n" +
                "u 197 9\n" +
                "u 400 10\n" +
                "u 306 0\n" +
                "u 235 10\n" +
                "u 497 9\n" +
                "u 344 10\n" +
                "s 20 76 8\n" +
                "s 165 349 5\n" +
                "s 177 285 143\n" +
                "s 357 364 418\n" +
                "s 200 212 54\n" +
                "u 345 0\n" +
                "u 445 10\n" +
                "u 114 0\n" +
                "u 296 0\n" +
                "s 166 423 283\n" +
                "u 233 0\n" +
                "u 263 0\n" +
                "s 195 491 67\n" +
                "u 345 10\n" +
                "u 227 0\n" +
                "u 271 9\n" +
                "s 219 480 201\n" +
                "u 40 0\n" +
                "u 291 10\n" +
                "s 99 245 59\n" +
                "u 37 9\n" +
                "s 325 423 53\n" +
                "s 30 165 50\n" +
                "u 391 9\n" +
                "u 34 10\n" +
                "u 220 0\n" +
                "u 289 0\n" +
                "s 260 344 41\n" +
                "u 145 0\n" +
                "u 495 0\n" +
                "s 226 397 482\n" +
                "s 84 101 464\n" +
                "u 18 0\n" +
                "s 219 372 147\n" +
                "u 395 0\n" +
                "u 480 0\n" +
                "u 146 0\n" +
                "u 286 0\n" +
                "s 233 265 18\n" +
                "s 242 493 421\n" +
                "s 16 476 314\n" +
                "u 19 0\n" +
                "u 150 10\n" +
                "s 118 493 248\n" +
                "s 45 76 26\n" +
                "s 141 332 31\n" +
                "s 125 389 44\n" +
                "u 338 0\n" +
                "s 127 233 167\n" +
                "u 94 10\n" +
                "s 389 453 61\n" +
                "s 390 499 50\n" +
                "u 348 0\n" +
                "s 359 487 60\n" +
                "u l3-f-21.txt 0\n" +
                "u 314 0\n" +
                "u 217 0\n" +
                "s 279 326 10\n" +
                "s 20 211 68\n" +
                "u 193 9\n" +
                "u 109 9\n" +
                "u 258 10\n" +
                "u 107 10\n" +
                "s 245 281 12\n" +
                "s 340 350 6\n" +
                "u 252 0\n" +
                "s 151 385 133\n" +
                "u 107 9\n" +
                "u 473 10\n" +
                "s 247 412 98\n" +
                "s 222 454 240\n" +
                "u 118 0\n" +
                "s 31 349 291\n" +
                "u 24 0\n" +
                "u 446 10\n" +
                "s 138 451 294\n" +
                "u 267 9\n" +
                "u 5 0\n" +
                "s 228 292 378\n" +
                "s 197 434 108\n" +
                "s 47 306 235\n" +
                "s 126 147 20\n" +
                "u 154 0\n" +
                "u 362 0\n" +
                "s 72 395 285\n" +
                "s 144 291 8\n" +
                "s 258 377 254\n" +
                "s 304 351 124\n" +
                "u 332 10\n" +
                "s 78 204 84\n" +
                "u 137 0\n" +
                "s 198 324 88\n" +
                "u 35 9\n" +
                "s 223 473 114\n" +
                "s 167 206 5\n" +
                "u 317 0\n" +
                "s 88 372 255\n" +
                "u 63 10\n" +
                "s 142 194 2\n" +
                "s 3 319 368\n" +
                "s 123 372 40\n" +
                "u 395 9\n" +
                "s 35 442 407\n" +
                "s 37 478 199\n" +
                "u 143 10\n" +
                "s 48 448 113\n" +
                "u 156 9\n" +
                "s 3 61 33\n" +
                "s 13 380 350\n" +
                "s 49 437 17\n" +
                "u 308 9\n" +
                "u 178 9\n" +
                "s 31 410 338\n" +
                "s 340 363 l3-f-21.txt\n" +
                "s 294 324 5\n" +
                "u 264 10\n" +
                "u 255 10\n" +
                "u 151 0\n" +
                "u 352 0\n" +
                "s 324 434 94\n" +
                "s 228 359 11\n" +
                "s 120 128 4\n" +
                "u 338 0\n" +
                "u 431 9\n" +
                "u 362 0\n" +
                "s 248 450 22\n" +
                "s 17 88 46\n" +
                "u 429 9\n" +
                "u 28 0\n" +
                "s 59 380 94\n" +
                "u 316 0\n" +
                "s 329 336 5\n" +
                "u 421 0\n" +
                "u 250 10\n" +
                "u 108 9\n" +
                "s 101 257 140\n" +
                "u 267 10\n" +
                "s 32 282 141\n" +
                "s 91 219 129\n" +
                "u 165 10\n" +
                "s 299 361 464\n" +
                "s 353 496 84\n" +
                "u 429 9\n" +
                "s 212 353 80\n" +
                "s 103 166 357\n" +
                "u 155 0\n" +
                "s 351 417 52\n" +
                "u 111 0\n" +
                "s 32 496 309\n" +
                "s 7 391 325\n" +
                "u 314 0\n" +
                "s 204 309 328\n" +
                "u 224 0\n" +
                "u 131 9\n" +
                "u 291 10\n" +
                "s 57 192 34\n" +
                "s 167 448 17\n" +
                "u 323 0\n" +
                "s 87 272 55\n" +
                "s 176 332 66\n" +
                "s 31 240 216\n" +
                "s 27 402 227\n" +
                "u 310 0\n" +
                "u 112 0\n" +
                "s 275 383 13\n" +
                "u 135 10\n" +
                "s 67 202 386\n" +
                "u 132 0\n" +
                "s 32 86 43\n" +
                "u 81 10\n" +
                "u 384 10\n" +
                "s 16 240 143\n" +
                "s 92 284 1\n" +
                "s 193 367 172\n" +
                "u 177 0\n" +
                "u 481 10\n" +
                "u 323 10\n" +
                "s 346 464 26\n" +
                "u 421 0\n" +
                "u 475 9\n" +
                "s 90 238 125\n" +
                "s 68 129 137\n" +
                "s 31 352 261\n" +
                "s 132 317 94\n" +
                "s 257 462 39\n" +
                "s 13 157 131\n" +
                "u 242 9\n" +
                "s 144 155 3\n" +
                "u 249 10\n" +
                "u 378 0\n" +
                "s 120 359 67\n" +
                "s 106 390 349\n" +
                "s 198 458 259\n" +
                "u 189 0\n" +
                "s 132 483 278\n" +
                "s 347 391 24\n" +
                "s 242 478 76\n" +
                "u 15 0\n" +
                "u 195 9\n" +
                "s 213 215 348\n" +
                "s 90 143 407\n" +
                "u 236 10\n" +
                "u 326 0\n" +
                "s 134 296 11\n" +
                "u 458 10\n" +
                "u 450 10\n" +
                "s 97 317 57\n" +
                "u 133 10\n" +
                "u 248 0\n" +
                "u 18 0\n" +
                "s 121 268 102\n" +
                "s 277 405 80\n" +
                "u 267 9\n" +
                "s 97 115 9\n" +
                "s 89 328 101\n" +
                "u 253 10\n" +
                "s 52 131 45\n" +
                "s 200 498 401\n" +
                "u 233 0\n" +
                "s 22 217 108\n" +
                "u 30 9\n" +
                "u 348 10\n" +
                "u 36 0\n" +
                "u 135 0\n" +
                "s 288 427 128\n" +
                "s 24 458 84\n" +
                "u 496 10\n" +
                "u 423 9\n" +
                "u 363 0\n" +
                "s 263 311 45\n" +
                "u 37 0\n" +
                "u 350 9\n" +
                "u 352 0\n" +
                "u 52 0\n" +
                "u 367 0\n" +
                "s 378 383 4\n" +
                "s 110 461 85\n" +
                "u 418 9\n" +
                "u 320 10\n" +
                "u 47 9\n" +
                "s 277 313 34\n" +
                "s 139 320 126\n" +
                "s 122 395 484\n" +
                "s 107 474 457\n" +
                "u 480 10\n" +
                "s 139 214 36\n" +
                "u 469 0\n" +
                "s 66 270 205\n" +
                "u 1 0\n" +
                "u 64 0\n" +
                "u 137 0\n" +
                "u 303 10\n" +
                "u 276 10\n" +
                "u 39 0\n" +
                "s 108 112 425\n" +
                "u 208 0\n" +
                "s 2 415 76\n" +
                "s 41 279 152\n" +
                "u 424 9\n" +
                "s 194 292 31\n" +
                "s 76 326 279\n" +
                "u 61 9\n" +
                "s 35 343 77\n" +
                "u 414 0\n" +
                "s 111 159 35\n" +
                "u 7 0\n" +
                "s 93 233 36\n" +
                "u 366 0\n" +
                "s 184 236 6\n" +
                "u 63 9\n" +
                "u 435 9\n" +
                "s 216 307 371\n" +
                "u 465 0\n" +
                "u 471 0\n" +
                "s 13 108 64\n" +
                "u 29 0\n" +
                "s 148 219 51\n" +
                "u 3 10\n" +
                "s 195 449 39\n" +
                "s 143 199 419\n" +
                "u 487 0\n" +
                "s 308 461 137\n" +
                "s 107 173 29\n" +
                "s 111 386 434\n" +
                "s 107 138 19\n" +
                "u 242 0\n" +
                "s 293 308 485\n" +
                "u 241 10\n" +
                "u 349 9\n" +
                "u 54 0\n" +
                "u 341 0\n" +
                "s 119 143 332\n" +
                "s 9 27 9\n" +
                "u 158 0\n" +
                "u 449 0\n" +
                "s 224 438 450\n" +
                "u 154 10\n" +
                "s 94 192 74\n" +
                "u 403 0\n" +
                "s 175 191 9\n" +
                "u 459 10\n" +
                "s 285 292 4\n" +
                "s 138 176 463\n" +
                "u 471 0\n" +
                "s 152 249 42\n" +
                "s 430 462 13\n" +
                "u 270 10\n" +
                "s 183 415 47\n" +
                "s 80 260 113\n" +
                "s 94 166 287\n" +
                "u 421 0\n" +
                "u 290 9\n" +
                "u 392 0\n" +
                "u 419 10\n" +
                "u 296 0\n" +
                "u 403 0\n" +
                "s 221 436 107\n" +
                "u 14 10\n" +
                "s 445 464 18\n" +
                "u 192 0\n" +
                "s 87 198 489\n";
        String expectedOutput = "-1 -1 -1 -1 140 216 -1 150 -1 134 -1 -1 183 176 354 -1 -1 -1 151 395 -1 366 281 -1 374 -1 -1 -1 -1 -1 279 -1 173 -1 140 -1 -1 22 -1 -1 -1 175 102 69 395 -1 173 416 -1 -1 -1 359 -1 -1 420 140 434 -1 340 31 -1 39 98 435 366 -1 -1 -1 -1 -1 87 -1 -1 -1 56 -1 -1 105 -1 180 -1 284 -1 -1 -1 -1 -1 -1 -1 60 -1 -1 -1 -1 38 173 -1 -1 -1 -1 321 -1 220 422 119 334 -1 -1 -1 -1 -1 -1 -1 -1 211 218 -1 -1 -1 477 292 146 267 350 -1 -1 -1 -1 -1 -1 395 -1 -1 -1 154 -1 -1 -1 -1 434 176 -1 145 -1 203 -1 410 269 -1 -1 76 -1 -1 301 -1 251 123 289 -1 239 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 119 211 201 309 -1 -1 296 -1 -1 -1 93 -1 380 -1 -1 -1 310 322 -1 146 251 -1 -1 -1 378 375 -1 -1 148 209 -1 -1 115 288 -1 -1 -1 -1 180 -1 381 274 -1 -1 -1 -1 214 -1 -1 139 -1 254 -1 175 -1 153 201 -1 -1 -1 275 -1 -1 154 -1 -1 -1 -1 23 -1 -1 191 288 -1 233 -1 279 -1 -1 420 -1 -1 \n";
        assertEquals(expectedOutput, runWithInput(input));
    }
}
